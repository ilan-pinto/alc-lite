# PyPy-compatible dependencies for alc-lite
# Tested with PyPy 3.10 for optimal performance

# Core trading and market data
ib_async>=1.0.1  # Compatible with both 1.0.1 and 2.0.1
aeventkit==2.1.0

# Data processing (PyPy-optimized)
# Note: pandas installation may be slow on PyPy but should work
pandas>=1.5.0
numpy>=1.21.0

# Database connectivity (PyPy compatible)
# asyncpg>=0.27.0  # Not compatible with PyPy - build fails with C extension issues
# psycopg2-binary>=2.9.0  # Not compatible with PyPy - commented out
# Note: asyncpg cannot be built with PyPy due to C extension incompatibility
# Use psycopg3 with async support if PostgreSQL connectivity is needed

# Console output and formatting
rich==14.1.0
pyfiglet==1.0.4
tabulate>=0.9.0
markdown-it-py==4.0.0
mdurl==0.1.2
Pygments==2.19.2

# HTTP and web scraping
yfinance==0.2.38
selenium==4.35.0
webdriver-manager==4.0.2
requests==2.32.5
urllib3==2.5.0
certifi==2025.8.3
charset-normalizer==3.4.3
idna==3.10
PySocks==1.7.1

# Utilities and async helpers
tenacity>=8.0.0
nest-asyncio==1.6.0
python-dateutil==2.9.0.post0
pytz==2025.2
tzdata==2025.2
six==1.17.0
typing_extensions==4.14.1
python-dotenv==1.1.1

# Image processing (lightweight alternative)
# Pillow>=8.0.0  # May have compilation issues with PyPy

# Development and testing (minimal set for PyPy)
pytest>=7.0.0
pytest-cov>=4.0.0
pytest-asyncio>=0.21.0
hypothesis>=6.0.0
memory_profiler>=0.60.0
# pytest-json-report>=1.5.0  # Optional - may have issues with PyPy
# pytest-metadata>=3.1.1    # Optional - may have issues with PyPy
# pytest-mock>=3.10.0       # Optional - may have issues with PyPy
# psutil>=5.9.0             # Optional - may have compilation issues with PyPy
# pre-commit>=3.0.0         # Optional - development tool

# Code formatting (PyPy compatible)
black>=22.0.0
isort>=5.10.0

# Data formats
xmltodict>=0.13.0
markdown>=3.4.0

# Visualization (optional - may have performance differences on PyPy)
# matplotlib>=3.5.0  # Compilation issues with PyPy - use CPython for visualization

# AI/ML (optional - check performance)
# openai>=1.0.0  # Optional - uncomment if needed

# PyPy-specific optimizations
# These packages are specifically optimized for PyPy or have better performance
cffi==1.15.1  # Better than ctypes on PyPy
attrs==25.3.0
packaging==25.0

# Async and concurrency support
trio==0.30.0
trio-websocket==0.12.2
sniffio==1.3.1
outcome==1.3.0.post0
sortedcontainers==2.4.0
exceptiongroup==1.3.0
h11==0.16.0
wsproto==1.2.0
websocket-client==1.8.0

# System-level dependencies
greenlet==0.4.13
# readline and hpy are built-in with PyPy - don't install via pip
# readline==6.2.4.1  # Built-in with PyPy
# hpy==0.0.4  # Built-in with PyPy (version 0.9.0rc1)

# Notes for PyPy compatibility:
# 1. numpy operations may be slower than CPython for small arrays
# 2. C extensions that don't support PyPy are excluded
# 3. Some packages may need alternative implementations
# 4. Memory usage patterns differ - PyPy generally uses more RAM initially
#    but is more efficient for long-running processes
